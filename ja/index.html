<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>VRツールメニュー</title>
  <script src="https://brahmoon.github.io/VikingRise_tools/modules/QueryPropagete/query-propagate.js"></script>
</head>
<body>
  <h1>VikingRise ツール一覧</h1>
  <ul>
    <li><a href="HeroShardsCalculator/index.html">英雄欠片計算ツール（SX）</a></li>
    <li><a href="RecipeOptimizer/index.html">レシピ最適化ツール</a></li>
  </ul>
  <hr />
  <div>
    言語切替：
    <div id="lang-switcher-container"></div>
  </div>
  
  <script type="module">
  document.addEventListener('DOMContentLoaded', async () => {
    const currentLang = location.pathname.split('/')[2];

    // 言語切替リンクをロード
    const res = await fetch('../lang-switcher.html');
    const html = await res.text();

    const temp = document.createElement('div');
    temp.innerHTML = html;

    // 現在の言語を削除
    const links = temp.querySelectorAll('[data-lang]');
    links.forEach(link => {
      if (link.dataset.lang === currentLang) {
        link.remove();
      }
    });

    // コンテナに挿入
    const container = document.getElementById('lang-switcher-container');
    container.innerHTML = Array.from(temp.querySelectorAll('[data-lang]'))
      .map(link => link.outerHTML)
      .join(' / ');

    exec_propagateQuery();
  });
  </script>
</body>
</html>
